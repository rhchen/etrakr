<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

	<extension
         point="org.eclipse.ui.commands">
		<command
               id="net.sf.etrakr.tmf.remote.adb.ui.command.fetchlog"
               name="%command.fetch_remote_traces">
		</command>
		<command
               id="net.sf.etrakr.tmf.remote.adb.ui.command.playlog"
               name="%command.play_remote_traces">
		</command>
	</extension>
	<extension
         point="org.eclipse.ui.handlers">
		<handler
               class="net.sf.etrakr.tmf.remote.adb.ui.handlers.RemoteFetchLogHandler"
               commandId="net.sf.etrakr.tmf.remote.adb.ui.command.fetchlog">
			<activeWhen>
				<and>
					<count
                        value="1">
					</count>
					<iterate
                        operator="and">
						<instanceof
                           value="org.eclipse.tracecompass.tmf.ui.project.model.TmfTraceFolder">
						</instanceof>
					</iterate>
				</and>
			</activeWhen>
		</handler>
		<handler
               class="net.sf.etrakr.tmf.remote.adb.ui.handlers.RemotePlayLogHandler"
               commandId="net.sf.etrakr.tmf.remote.adb.ui.command.playlog">
			<activeWhen>
				<and>
					<count
                        value="1">
					</count>
					<iterate
                        operator="and">
						<instanceof
                           value="org.eclipse.tracecompass.tmf.ui.project.model.TmfTraceFolder">
						</instanceof>
					</iterate>
				</and>
			</activeWhen>
		</handler>
	</extension>
	<extension
            point="org.eclipse.ui.menus">
		<menuContribution
               locationURI="popup:org.eclipse.ui.popup.any?after=org.eclipse.linuxtools.tmf.ui.command.importtracepkg">
			<command
                  commandId="net.sf.etrakr.tmf.remote.adb.ui.command.fetchlog"
                  icon="icons/elcl16/fetch_log_wiz.gif"
                  label="%command.fetch_remote_traces"
                  mnemonic="%command.fetch_remote_traces.mnemonic"
                  style="push"
                  tooltip="%command.fetch_remote_traces.description">
				<visibleWhen
                     checkEnabled="true">
				</visibleWhen>
			</command>
			<command
                  commandId="net.sf.etrakr.tmf.remote.adb.ui.command.playlog"
                  icon="icons/elcl16/fetch_log_wiz.gif"
                  label="%command.play_remote_traces"
                  mnemonic="%command.play_remote_traces.mnemonic"
                  style="push"
                  tooltip="%command.play_remote_traces.description">
				<visibleWhen
                     checkEnabled="true">
				</visibleWhen>
			</command>
		</menuContribution>
	</extension>
</plugin>
